{"version":3,"sources":["screen.ts"],"names":["AppEventsLogger","PREFIX","SUFFIX","MAX_CHARACTERS_EVENT_NAME","length","sanitizeName","name","trimmedName","substring","sanitizeEvent","event","properties","params","logEvent"],"mappings":"AACA,SAASA,eAAT,QAAgC,yBAAhC;AAEA,MAAMC,MAAM,GAAG,QAAf;AACA,MAAMC,MAAM,GAAG,QAAf;AACA,MAAMC,yBAAyB,GAAG,KAAKF,MAAM,CAACG,MAAZ,GAAqBF,MAAM,CAACE,MAA9D;;AAEA,MAAMC,YAAY,GAAIC,IAAD,IAAkB;AACrC,MAAIC,WAAW,GAAGD,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkBL,yBAAlB,CAAlB;AACA,SAAQ,GAAEF,MAAO,IAAGM,WAAY,IAAGL,MAAO,EAA1C;AACD,CAHD;;AAKA,MAAMO,aAAa,GACjBC,KADoB,IAEmB;AAAA;;AACvC,MAAIC,UAAU,wBAAGD,KAAK,CAACC,UAAT,iEAAuB,EAArC;AAEA,SAAO,EAAE,GAAGA;AAAL,GAAP;AACD,CAND;;AAOA,gBAAe,MAAOD,KAAP,IAAkC;AAC/C,MAAIJ,IAAI,GAAGD,YAAY,CAACK,KAAK,CAACJ,IAAP,CAAvB;AACA,MAAIM,MAAM,GAAGH,aAAa,CAACC,KAAD,CAA1B;AAEAV,EAAAA,eAAe,CAACa,QAAhB,CAAyBP,IAAzB,EAA+BM,MAA/B;AACD,CALD","sourcesContent":["import type { ScreenEventType } from '@segment/analytics-react-native';\nimport { AppEventsLogger } from 'react-native-fbsdk-next';\n\nconst PREFIX = 'Viewed';\nconst SUFFIX = 'Screen';\nconst MAX_CHARACTERS_EVENT_NAME = 40 - PREFIX.length - SUFFIX.length;\n\nconst sanitizeName = (name: string) => {\n  let trimmedName = name.substring(0, MAX_CHARACTERS_EVENT_NAME);\n  return `${PREFIX} ${trimmedName} ${SUFFIX}`;\n};\n\nconst sanitizeEvent = (\n  event: Record<string, any>\n): { [key: string]: string | number } => {\n  let properties = event.properties ?? {};\n\n  return { ...properties };\n};\nexport default async (event: ScreenEventType) => {\n  let name = sanitizeName(event.name);\n  let params = sanitizeEvent(event);\n\n  AppEventsLogger.logEvent(name, params);\n};\n"]}
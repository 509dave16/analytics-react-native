{"version":3,"sources":["screen.test.ts"],"names":["mockScreen","jest","fn","mock","logScreenView","describe","beforeEach","clearAllMocks","it","event","type","name","anonymousId","messageId","timestamp","properties","expect","toHaveBeenCalledTimes","toHaveBeenCalledWith","screen_name","screen_class"],"mappings":";;AACA;;;;AAEA,MAAMA,UAAU,GAAGC,IAAI,CAACC,EAAL,EAAnB;AAEAD,IAAI,CAACE,IAAL,CAAU,kCAAV,EAA8C,MAAM,OAAO;AACzDC,EAAAA,aAAa,EAAEJ;AAD0C,CAAP,CAApD;AAIAK,QAAQ,CAAC,SAAD,EAAY,MAAM;AACxBC,EAAAA,UAAU,CAAC,MAAM;AACfL,IAAAA,IAAI,CAACM,aAAL;AACD,GAFS,CAAV;AAIAC,EAAAA,EAAE,CAAC,2BAAD,EAA8B,YAAY;AAC1C,UAAMC,KAAK,GAAG;AACZC,MAAAA,IAAI,EAAE,QADM;AAEZC,MAAAA,IAAI,EAAE,YAFM;AAGZC,MAAAA,WAAW,EAAE,MAHD;AAIZC,MAAAA,SAAS,EAAE,YAJC;AAKZC,MAAAA,SAAS,EAAE,OALC;AAMZC,MAAAA,UAAU,EAAE;AANA,KAAd;AASA,UAAM,qBAAON,KAAP,CAAN;AAEAO,IAAAA,MAAM,CAAChB,UAAD,CAAN,CAAmBiB,qBAAnB,CAAyC,CAAzC;AACAD,IAAAA,MAAM,CAAChB,UAAD,CAAN,CAAmBkB,oBAAnB,CAAwC;AACtCC,MAAAA,WAAW,EAAE,YADyB;AAEtCC,MAAAA,YAAY,EAAE;AAFwB,KAAxC;AAID,GAjBC,CAAF;AAkBD,CAvBO,CAAR","sourcesContent":["import type { ScreenEventType } from '@segment/analytics-react-native/src';\nimport screen from '../screen';\n\nconst mockScreen = jest.fn();\n\njest.mock('@react-native-firebase/analytics', () => () => ({\n  logScreenView: mockScreen,\n}));\n\ndescribe('#screen', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('forwards the screen event', async () => {\n    const event = {\n      type: 'screen',\n      name: 'HomeScreen',\n      anonymousId: 'anon',\n      messageId: 'message-id',\n      timestamp: '00000',\n      properties: {},\n    } as ScreenEventType;\n\n    await screen(event);\n\n    expect(mockScreen).toHaveBeenCalledTimes(1);\n    expect(mockScreen).toHaveBeenCalledWith({\n      screen_name: 'HomeScreen',\n      screen_class: 'HomeScreen',\n    });\n  });\n});\n"]}